name: BuildEmzAmi
description: this document builds emz-ami on ubuntu
schemaVersion: 1.0

phases:
  - name: build
    steps:
      - name: BuildEmzAmi
        action: ExecuteBash
        inputs:
          commands:
            - curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.1/install.sh | bash
            - source ~/.bashrc
            - nvm install 20
            - git clone --depth 1 https://github.com/naotoman/emz-ami.git
            - cd emz-ami/lib/src
            - npm ci
            - npx playwright install chromium
            - npx playwright install-deps
            - npm run start
